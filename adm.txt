-- Create the main loading screen UI
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

-- Main frame (small square with rounded edges)
local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 300, 0, 200) -- Smaller size (300x200)
mainFrame.Position = UDim2.new(0.5, -150, 0.5, -100) -- Centered
mainFrame.BackgroundColor3 = Color3.new(0.1, 0.1, 0.1) -- Dark gray background
mainFrame.BorderSizePixel = 0
mainFrame.Parent = screenGui

-- Round the edges of the main frame
local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0.1, 0) -- Slightly rounded corners
UICorner.Parent = mainFrame

-- Circle on the top-left (for logo/image)
local circleFrame = Instance.new("Frame")
circleFrame.Size = UDim2.new(0, 80, 0, 80) -- Size of the circle
circleFrame.Position = UDim2.new(0, 20, 0, 20) -- Top-left position
circleFrame.BackgroundColor3 = Color3.new(1, 1, 1) -- White background (for the circle)
circleFrame.BackgroundTransparency = 0.5 -- Semi-transparent
circleFrame.BorderSizePixel = 0
circleFrame.Parent = mainFrame

-- Make the frame circular
local circleCorner = Instance.new("UICorner")
circleCorner.CornerRadius = UDim.new(1, 0) -- Fully rounded corners
circleCorner.Parent = circleFrame

-- Add an ImageLabel inside the circle (replace with your image)
local imageLabel = Instance.new("ImageLabel")
imageLabel.Size = UDim2.new(1, 0, 1, 0) -- Fill the circle
imageLabel.BackgroundTransparency = 1 -- Transparent background
imageLabel.Image = "rbxassetid://132692591291604" -- Replace with your image ID
imageLabel.Parent = circleFrame

-- YouTube name label (near the circle)
local youtubeLabel = Instance.new("TextLabel")
youtubeLabel.Size = UDim2.new(0, 200, 0, 30) -- Width 200, Height 30
youtubeLabel.Position = UDim2.new(0, 110, 0, 40) -- Next to the circle
youtubeLabel.BackgroundTransparency = 1 -- Transparent background
youtubeLabel.Text = "Youtube: Yuke Scripts"
youtubeLabel.TextColor3 = Color3.new(1, 1, 1) -- White text (initial color)
youtubeLabel.TextSize = 18
youtubeLabel.Font = Enum.Font.GothamBlack -- "Bang" font
youtubeLabel.TextXAlignment = Enum.TextXAlignment.Left -- Align text to the left
youtubeLabel.Parent = mainFrame

-- "Loading Database" blinking text below YouTube name
local databaseLabel = Instance.new("TextLabel")
databaseLabel.Size = UDim2.new(0, 200, 0, 25) -- Width 200, Height 25
databaseLabel.Position = UDim2.new(0, 110, 0, 70) -- Below the YouTube label
databaseLabel.BackgroundTransparency = 1 -- Transparent background
databaseLabel.Text = "Loading Database"
databaseLabel.TextColor3 = Color3.new(1, 1, 1) -- White text
databaseLabel.TextSize = 16
databaseLabel.Font = Enum.Font.GothamBlack -- "Bang" font
databaseLabel.TextXAlignment = Enum.TextXAlignment.Left -- Align text to the left
databaseLabel.Parent = mainFrame

-- Black outline for "Loading Database" text
local databaseStroke = Instance.new("UIStroke")
databaseStroke.Thickness = 2
databaseStroke.Color = Color3.new(0, 0, 0) -- Black outline
databaseStroke.Parent = databaseLabel

-- Function to create an RGB effect
local function rgbEffect(label)
    local time = 0
    while true do
        time = time + 0.05 -- Speed of the color change
        local r = math.sin(time) * 0.5 + 0.5 -- Red component
        local g = math.sin(time + 2) * 0.5 + 0.5 -- Green component
        local b = math.sin(time + 4) * 0.5 + 0.5 -- Blue component
        label.TextColor3 = Color3.new(r, g, b) -- Apply RGB color
        wait(0.1) -- Adjust the speed of the color change
    end
end

-- Start the RGB effect for the YouTube label
spawn(function()
    rgbEffect(youtubeLabel)
end)

-- Progress bar
local progressBar = Instance.new("Frame")
progressBar.Size = UDim2.new(0.8, 0, 0, 10) -- Width 80%, Height 10
progressBar.Position = UDim2.new(0.1, 0, 0.8, 0) -- Centered horizontally, near the bottom
progressBar.BackgroundColor3 = Color3.new(0.2, 0.2, 0.2) -- Dark gray background
progressBar.BorderSizePixel = 0
progressBar.Parent = mainFrame

-- Progress bar fill
local progressFill = Instance.new("Frame")
progressFill.Size = UDim2.new(0, 0, 1, 0) -- Starts empty
progressFill.BackgroundColor3 = Color3.new(0, 0.5, 1) -- Blue fill
progressFill.BorderSizePixel = 0
progressFill.Parent = progressBar

-- Loading text
local loadingText = Instance.new("TextLabel")
loadingText.Size = UDim2.new(0.8, 0, 0, 20) -- Width 80%, Height 20
loadingText.Position = UDim2.new(0.1, 0, 0.7, 0) -- Above the progress bar
loadingText.BackgroundTransparency = 1 -- Transparent background
loadingText.Text = "Loading..."
loadingText.TextColor3 = Color3.new(1, 1, 1) -- White text
loadingText.TextSize = 18
loadingText.Font = Enum.Font.SourceSansBold
loadingText.Parent = mainFrame

-- Function to make "Loading Database" text blink
spawn(function()
    while true do
        databaseLabel.Visible = not databaseLabel.Visible
        wait(0.6) -- Adjust blink speed
    end
end)

-- Simulate loading progress
local duration = 120 -- Duration of the loading screen in seconds
local startTime = tick()

while tick() - startTime < duration do
    local progress = (tick() - startTime) / duration
    progressFill.Size = UDim2.new(progress, 0, 1, 0) -- Update progress bar fill
    loadingText.Text = "Loading... " .. math.floor(progress * 100) .. "%"
    wait(0.1) -- Wait a short time between updates
end

-- Remove the loading screen after completion
screenGui:Destroy()

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")

-- Create the main GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = PlayerGui

local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 350, 0, 250) -- Medium size
MainFrame.Position = UDim2.new(0.5, -175, 0, -300) -- Start hidden for dropdown effect
MainFrame.BackgroundColor3 = Color3.new(0, 0, 0) -- Solid Black
MainFrame.BorderSizePixel = 0
MainFrame.Active = true
MainFrame.Draggable = true
MainFrame.Parent = ScreenGui

-- Round the edges
local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 15)
UICorner.Parent = MainFrame

-- YouTube Profile Image (Circular, Moved Closer)
local ProfileImage = Instance.new("ImageLabel")
ProfileImage.Size = UDim2.new(0, 40, 0, 40) -- Adjusted size
ProfileImage.Position = UDim2.new(0, 10, 0, 10) -- Moved closer to title
ProfileImage.BackgroundColor3 = Color3.new(1, 1, 1) -- White background for visibility
ProfileImage.Image = "rbxassetid://132692591291604" -- Replace with your image ID
ProfileImage.Parent = MainFrame

local ProfileCorner = Instance.new("UICorner")
ProfileCorner.CornerRadius = UDim.new(1, 0) -- Fully round (circle)
ProfileCorner.Parent = ProfileImage

-- Title "Yukio Scripts" (Moved Next to Image)
local TitleLabel = Instance.new("TextLabel")
TitleLabel.Size = UDim2.new(0, 250, 0, 30)
TitleLabel.Position = UDim2.new(0, 60, 0, 15) -- Moved right beside the image
TitleLabel.BackgroundTransparency = 1
TitleLabel.Text = "Yukio Scripts"
TitleLabel.TextColor3 = Color3.new(1, 1, 1)
TitleLabel.TextScaled = true
TitleLabel.Font = Enum.Font.GothamBold
TitleLabel.TextXAlignment = Enum.TextXAlignment.Left -- Align text to the left
TitleLabel.Parent = MainFrame

-- Create TextBox (Small, Gray, Rounded)
local TextBox = Instance.new("TextBox")
TextBox.Size = UDim2.new(0, 250, 0, 30)
TextBox.Position = UDim2.new(0.5, -125, 0, 70) -- Adjusted position
TextBox.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
TextBox.Text = "Enter Pet Name"
TextBox.TextScaled = true
TextBox.Font = Enum.Font.Gotham
TextBox.Parent = MainFrame

local TextBoxCorner = Instance.new("UICorner")
TextBoxCorner.CornerRadius = UDim.new(0, 10)
TextBoxCorner.Parent = TextBox

-- Create Spawn Pet Button (Light Blue)
local SpawnButton = Instance.new("TextButton")
SpawnButton.Size = UDim2.new(0, 250, 0, 30)
SpawnButton.Position = UDim2.new(0.5, -125, 0, 110)
SpawnButton.BackgroundColor3 = Color3.fromRGB(0, 180, 255) -- Light Blue
SpawnButton.Text = "Spawn Pet"
SpawnButton.TextScaled = true
SpawnButton.Font = Enum.Font.Gotham
SpawnButton.Parent = MainFrame

local SpawnCorner = Instance.new("UICorner")
SpawnCorner.CornerRadius = UDim.new(0, 10)
SpawnCorner.Parent = SpawnButton

-- Mutation selection
local selectedMutation = "FR"
local buttons = {}

-- Function to create MFR, NFR, FR buttons
local function createToggleButton(text, position, mutationType)
    local button = Instance.new("TextButton")
    button.Size = UDim2.new(0, 80, 0, 30)
    button.Position = position
    button.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
    button.Text = text
    button.TextScaled = true
    button.Font = Enum.Font.Gotham
    button.Parent = MainFrame
    buttons[mutationType] = button

    local btnCorner = Instance.new("UICorner")
    btnCorner.CornerRadius = UDim.new(0, 10)
    btnCorner.Parent = button

    button.MouseButton1Click:Connect(function()
        for _, btn in pairs(buttons) do
            btn.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
        end

        selectedMutation = mutationType
        button.BackgroundColor3 = Color3.fromRGB(0, 255, 0) -- Green when selected
    end)

    return button
end

local MFRButton = createToggleButton("MFR", UDim2.new(0, 30, 0, 160), "MFR")
local NFRButton = createToggleButton("NFR", UDim2.new(0, 135, 0, 160), "NFR")
local FRButton = createToggleButton("FR", UDim2.new(0, 240, 0, 160), "FR")

-- Success Message
local SuccessLabel = Instance.new("TextLabel")
SuccessLabel.Size = UDim2.new(1, 0, 0, 25)
SuccessLabel.Position = UDim2.new(0, 0, 0, 200)
SuccessLabel.BackgroundTransparency = 1
SuccessLabel.Text = "âœ… Pet Spawned Successfully!"
SuccessLabel.TextColor3 = Color3.fromRGB(0, 255, 0) -- Green
SuccessLabel.TextScaled = true
SuccessLabel.Font = Enum.Font.GothamBold
SuccessLabel.Visible = false -- Hidden until pet is spawned
SuccessLabel.Parent = MainFrame

-- Load dependencies
local Loads = require(game.ReplicatedStorage.Fsys).load
local RouterClient = Loads("RouterClient")
local ClientData = Loads("ClientData")
local InventoryDB = Loads("InventoryDB")
local Inventory = ClientData.get("inventory")

local properties = {
    "flyable",
    "rideable",
    "neon",
    "mega_neon"
}

-- Function to generate pet properties based on mutation
local function generate_prop(i, mutation)
    local props = {}
    props[properties[1]] = true
    props[properties[2]] = true

    if mutation == "MFR" then
        props[properties[3]] = true
        props[properties[4]] = true
    elseif mutation == "NFR" then
        props[properties[3]] = true
        props[properties[4]] = false
    else
        props[properties[3]] = false
        props[properties[4]] = false
    end

    props["age"] = i
    return props
end

-- Function to add a new pet
local function addPet()
    local petName = TextBox.Text
    if petName == "" or petName == "Enter Pet Name" then return end

    for category_name, category_table in pairs(InventoryDB) do
        for id, item in pairs(category_table) do
            if category_name == "pets" and item.name == petName then
                local fake_uuid = game.HttpService:GenerateGUID()
                local n_item = item
                n_item["unique"] = "ass" .. fake_uuid
                n_item["category"] = "pets"
                n_item["properties"] = generate_prop(1, selectedMutation)
                n_item["newness_order"] = math.random(1, 900000)
                Inventory[category_name][fake_uuid] = n_item
            end
        end
    end

    SuccessLabel.Visible = true
    wait(2)
    SuccessLabel.Visible = false
end

SpawnButton.MouseButton1Click:Connect(addPet)

MainFrame:TweenPosition(
    UDim2.new(0.5, -175, 0.5, -110),
    Enum.EasingDirection.Out,
    Enum.EasingStyle.Quad,
    0.5,
    true
)